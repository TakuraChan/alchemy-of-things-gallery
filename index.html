<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="description" content="Works by Takura, between observation, emotion, and form.">
    <title>Alchemy of Things</title>
    <link rel="icon" type="image/svg+xml" href="/images/symbol.svg">
    <meta property="og:title" content="Alchemy of Things">
    <meta property="og:description" content="Works by Takura, between observation, emotion, and form.">
    <meta property="og:image" content="/images/symbol.svg">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;1,400&family=Jost:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <nav class="nav">
        <div class="nav-links"></div>
    </nav>
    <main class="main">
        <div class="landing-page" id="landing">
            <img src="/images/symbol.svg" alt="" class="landing-symbol">
            <img id="landing-img" src="" alt="" class="landing-image">
            <button class="landing-enter" id="enter-btn">Enter</button>
        </div>
        <section class="works" id="works" style="display:none;"></section>
    </main>
    <footer class="footer">
        <div class="footer-content">
            <img src="/images/symbol.svg" alt="" class="symbol-footer">
            <p class="footer-text">alchemy of things</p>
        </div>
    </footer>
    <script src="/js/nav.js"></script>
    <script src="/js/main.js"></script>
    <script>
        // Load landing page image and setup enter button
        fetch('/data/content.json')
            .then(r=>r.json())
            .then(c=>{
                const landing=document.getElementById('landing');
                const works=document.getElementById('works');
                const nav=document.querySelector('.nav');
                const footer=document.querySelector('.footer');

                // If landing image exists, show landing page
                if(c.paintings?.image){
                    document.getElementById('landing-img').src=c.paintings.image;

                    // Hide nav and footer initially
                    nav.style.display='none';
                    footer.style.display='none';

                    // Setup enter button
                    document.getElementById('enter-btn').addEventListener('click',()=>{
                        landing.style.opacity='0';
                        setTimeout(()=>{
                            landing.style.display='none';
                            works.style.display='flex';
                            nav.style.display='flex';
                            footer.style.display='flex';

                            // Load collections AFTER entering
                            loadCollections('paintings');

                            setTimeout(()=>{
                                works.style.opacity='1';
                            },50);
                        },600);
                    });
                }else{
                    // No landing image, go straight to collections
                    landing.style.display='none';
                    works.style.display='flex';
                    works.style.opacity='1';
                    // Load collections immediately if no landing page
                    loadCollections('paintings');
                }
            })
            .catch(()=>{
                // On error, show collections
                document.getElementById('landing').style.display='none';
                document.getElementById('works').style.display='flex';
                document.getElementById('works').style.opacity='1';
                loadCollections('paintings');
            });
    </script>
</body>
</html>
